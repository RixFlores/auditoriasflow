<div class="contenedor" style="padding-bottom:4rem; padding-top: 2rem;">
  <div class="card text-center mt-2">
    <div class="card-header">
      <p class="title">
        Configuración de la cuenta
      </p>
    </div>
    <div class="card-body" align="left">
      <div class="row">
        <div class="col" align="center" style="margin-bottom: 2rem;">
          <img [src]="user.profileImageUrl" class="image"><br>        
          <label for="file-upload" class="custom-file-upload">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-image" viewBox="0 0 16 16">
              <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
              <path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"/>
            </svg> Cambiar imagen       
          </label>
          <input id="file-upload" type="file" (change)="captureFile($event)">
        </div>
      </div>
      <div class="row">
        <div class="col">
          <h3>Datos del usuario</h3>
          <p>
            <mat-form-field appearance="fill" style="width:100%">
              <mat-label>Nombre</mat-label>
              <input type="text" matInput [(ngModel)]="user.name" maxlength="100" placeholder="Nombre">
              <mat-error>El nombre es requerido</mat-error>
            </mat-form-field>
          </p>
          <p>
            <mat-form-field appearance="fill" style="width:100%">
              <mat-label>Apellido</mat-label>
              <input type="text" matInput [(ngModel)]="user.lastName" maxlength="100" placeholder="Nombre">
              <mat-error>El apellido es requerido</mat-error>
            </mat-form-field>
          </p>
          <button class="btn btn-success" (click)="updateStudentName()">Actualizar</button>
        </div>
        <div class="col">
          <h3>Actualizar contraseña</h3>
          <p>
            <mat-form-field appearance="fill" style="width:100%">
              <mat-label>Contraseña actual</mat-label>
              <input matInput [type]="hide ? 'password' : 'text'" [(ngModel)]="user.currentPassword" minlength='10' name="password">
              <mat-error *ngIf="user.password">La contraseña debe ser de al menos 10 caracteres y 1 dígito</mat-error>
              <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
            </mat-form-field>
          </p>
          <p>
            <mat-form-field appearance="fill" style="width:100%">
              <mat-label>Contraseña nueva</mat-label>
              <input matInput [type]="hide ? 'password' : 'text'" [(ngModel)]="user.password" minlength='10' name="password">
              <mat-error *ngIf="user.password">La contraseña debe ser de al menos 10 caracteres y 1 dígito</mat-error>
              <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
            </mat-form-field>
          </p>
          <p>
            <mat-form-field appearance="fill" style="width:100%">
              <mat-label>Confirmación de contraseña nueva</mat-label>
              <input matInput [type]="hide ? 'password' : 'text'" [(ngModel)]="user.confirmedPassword"  name="passwordConfirm">
              <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
            </mat-form-field>
          </p>
          <div *ngIf="user.password != user.confirmedPassword" style="margin-top:-30px;">
            <mat-error>Las contraseñas no coinciden</mat-error>
          </div>
          <button class="btn btn-success" (click)="updateStudentPassword()">Actualizar</button>
        </div>
      </div>
    </div>
  </div>

</div>
